<HTML>
<HEAD>
<meta charset="UTF-8">
<title>Source - jvm</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">jvm</a>&nbsp;/&nbsp;<a href="../index.html">okio</a>&nbsp;/&nbsp;<a href="./index.html">Source</a><br/>
<br/>
<h1>Source</h1>
<code><span class="keyword">interface </span><span class="identifier">Source</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/io/Closeable.html"><span class="identifier">Closeable</span></a></code>
<p>Supplies a stream of bytes. Use this interface to read data from wherever it's located: from the
network, storage, or a buffer in memory. Sources may be layered to transform supplied data, such
as to decompress, decrypt, or remove protocol framing.</p>
<p>Most applications shouldn't operate on a source directly, but rather on a <a href="../-buffered-source/index.html">BufferedSource</a> which
is both more efficient and more convenient. Use <a href="../buffer.html">buffer</a> to wrap any source with a buffer.</p>
<p>Sources are easy to test: just use a <a href="../-buffer/index.html">Buffer</a> in your tests, and fill it with the data your
application is to read.</p>
<h3>Comparison with InputStream</h3>
<p>This interface is functionally equivalent to <a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html">java.io.InputStream</a>.</p>
<p><code>InputStream</code> requires multiple layers when consumed data is heterogeneous: a <code>DataInputStream</code>
for primitive values, a <code>BufferedInputStream</code> for buffering, and <code>InputStreamReader</code> for strings.
This library uses <code>BufferedSource</code> for all of the above.</p>
<p>Source avoids the impossible-to-implement <a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#available()">available()</a> method.
Instead callers specify how many bytes they <a href="../-buffered-source/require.html">require</a>.</p>
<p>Source omits the unsafe-to-compose <a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#mark(int)">mark and reset</a> state that's
tracked by <code>InputStream</code>; instead, callers just buffer what they need.</p>
<p>When implementing a source, you don't need to worry about the <a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#read()">read()</a>
method that is awkward to implement efficiently and returns one of 257 possible values.</p>
<p>And source has a stronger <code>skip</code> method: <a href="../-buffered-source/skip.html">BufferedSource.skip</a> won't return prematurely.</p>
<h3>Interop with InputStream</h3>
<p>Use <a href="../java.io.-input-stream/source.html">source</a> to adapt an <code>InputStream</code> to a source. Use <a href="../-buffered-source/input-stream.html">BufferedSource.inputStream</a> to adapt a
source to an <code>InputStream</code>.</p>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="close.html">close</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">close</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Closes this source and releases the resources held by this source. It is an error to read a
closed source. It is safe to close a source more than once.</p>
</td>
</tr>
<tr>
<td>
<p><a href="read.html">read</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">read</span><span class="symbol">(</span><span class="identifier" id="okio.Source$read(okio.Buffer, kotlin.Long)/sink">sink</span><span class="symbol">:</span>&nbsp;<a href="../-buffer/index.html"><span class="identifier">Buffer</span></a><span class="symbol">, </span><span class="identifier" id="okio.Source$read(okio.Buffer, kotlin.Long)/byteCount">byteCount</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><span class="identifier">Long</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><span class="identifier">Long</span></a></code>
<p>Removes at least 1, and up to <code>byteCount</code> bytes from this and appends them to <code>sink</code>. Returns
the number of bytes read, or -1 if this source is exhausted.</p>
</td>
</tr>
<tr>
<td>
<p><a href="timeout.html">timeout</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">timeout</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-timeout/index.html"><span class="identifier">Timeout</span></a></code>
<p>Returns the timeout for this source.</p>
</td>
</tr>
</tbody>
</table>
<h3>Extension Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../buffer.html">buffer</a></p>
</td>
<td>
<code><span class="keyword">fun </span><a href="./index.html"><span class="identifier">Source</span></a><span class="symbol">.</span><span class="identifier">buffer</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-buffered-source/index.html"><span class="identifier">BufferedSource</span></a></code>
<p>Returns a new source that buffers reads from <code>source</code>. The returned source will perform bulk
reads into its in-memory buffer. Use this wherever you read a source to get an ergonomic and
efficient access to data.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../gzip.html">gzip</a></p>
</td>
<td>
<code><span class="keyword">fun </span><a href="./index.html"><span class="identifier">Source</span></a><span class="symbol">.</span><span class="identifier">gzip</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-gzip-source/index.html"><span class="identifier">GzipSource</span></a></code>
<p>Returns a <a href="../-gzip-source/index.html">GzipSource</a> that gzip-decompresses this <a href="./index.html">Source</a> while reading.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../inflate.html">inflate</a></p>
</td>
<td>
<code><span class="keyword">fun </span><a href="./index.html"><span class="identifier">Source</span></a><span class="symbol">.</span><span class="identifier">inflate</span><span class="symbol">(</span><span class="identifier" id="okio$inflate(okio.Source, java.util.zip.Inflater)/inflater">inflater</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/zip/Inflater.html"><span class="identifier">Inflater</span></a>&nbsp;<span class="symbol">=</span>&nbsp;Inflater()<span class="symbol">)</span><span class="symbol">: </span><a href="../-inflater-source/index.html"><span class="identifier">InflaterSource</span></a></code>
<p>Returns an <a href="../-inflater-source/index.html">InflaterSource</a> that DEFLATE-decompresses this <a href="./index.html">Source</a> while reading.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inheritors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../-buffered-source/index.html">BufferedSource</a></p>
</td>
<td>
<code><span class="keyword">interface </span><span class="identifier">BufferedSource</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="./index.html"><span class="identifier">Source</span></a><span class="symbol">, </span><a href="http://docs.oracle.com/javase/6/docs/api/java/nio/channels/ReadableByteChannel.html"><span class="identifier">ReadableByteChannel</span></a></code>
<p>A source that keeps a buffer internally so that callers can do small reads without a performance
penalty. It also allows clients to read ahead, buffering as much as necessary before consuming
input.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-forwarding-source/index.html">ForwardingSource</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">ForwardingSource</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="./index.html"><span class="identifier">Source</span></a></code>
<p>A <a href="./index.html">Source</a> which forwards calls to another. Useful for subclassing.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-gzip-source/index.html">GzipSource</a></p>
</td>
<td>
<code><span class="keyword">class </span><span class="identifier">GzipSource</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="./index.html"><span class="identifier">Source</span></a></code>
<p>A source that uses <a href="http://www.ietf.org/rfc/rfc1952.txt">GZIP</a> to
decompress data read from another source.</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-inflater-source/index.html">InflaterSource</a></p>
</td>
<td>
<code><span class="keyword">class </span><span class="identifier">InflaterSource</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="./index.html"><span class="identifier">Source</span></a></code>
<p>A source that uses <a href="http://tools.ietf.org/html/rfc1951">DEFLATE</a> to decompress data read from
another source.</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
